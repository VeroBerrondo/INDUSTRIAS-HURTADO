<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/x-icon" href="../assets/imgs/logocorazon.ico">
    <title>HeartMate</title>
    <link rel="stylesheet" href="../assets/stylesheets/main_styles.css">
    <link rel="stylesheet" href="../assets/stylesheets/app_styles.css">
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.min.js"></script>
</head>
<body>
    <div id="app__mount-chat" class="app__mount">
        <div v-if="window.innerWidth < maxWidthToShowElement" class="nav-bar_mobile__wrapper">
            <button class="button iconed contrast tool" onclick="sideMenu_toggle()">
                <svg class="icon">
                    <use xlink:href="../assets/icons/svg-resources.xml#icon-dot-menu"></use>
                </svg>
            </button>
            <div class="entry simple">
                <label for="local-search">
                    <svg class="icon">
                        <use xlink:href="../assets/icons/svg-resources.xml#icon-search"></use>
                    </svg>
                </label>
                <input id="local-search" type="text" placeholder="Buscar...">
            </div>
            <nav class="menu__content">
                <div class="outer-area" onclick="sideMenu_toggle()"></div>
                <a class="button iconed contrast option back" onclick="sideMenu_toggle()">
                    <svg class="icon">
                        <use xlink:href="../assets/icons/svg-resources.xml#icon-arrow"></use>
                    </svg>
                    <p>Regresar</p>
                </a>
                <a class="button iconed contrast option" href="./feed.html">
                    <svg class="icon">
                        <use xlink:href="../assets/icons/svg-resources.xml#icon-feed"></use>
                    </svg>
                    <p>Feed</p>
                </a>
                <a class="button iconed contrast option" href="./profile.html">
                    <svg class="icon">
                        <use xlink:href="../assets/icons/svg-resources.xml#icon-profile"></use>
                    </svg>
                    <p>Perfil</p>
                </a>
                <a class="button iconed contrast option current" href="./chat.html">
                    <svg class="icon">
                        <use xlink:href="../assets/icons/svg-resources.xml#icon-chat-heart-filled"></use>
                    </svg>
                    <p>Chat</p>
                </a>
                <a class="button iconed contrast option" href="./notifications.html">
                    <svg class="icon">
                        <use xlink:href="../assets/icons/svg-resources.xml#icon-bell"></use>
                    </svg>
                    <p>Notificaciones</p>
                </a>
                <a class="button iconed contrast option" href="./config.html">
                    <svg class="icon">
                        <use xlink:href="../assets/icons/svg-resources.xml#icon-gear"></use>
                    </svg>
                    <p>Configuracion</p>
                </a>
                <a class="button iconed contrast option" @click="logout">
                    <svg class="icon">
                        <use xlink:href="../assets/icons/svg-resources.xml#icon-logout"></use>
                    </svg>
                    <p>Cerrar sesion</p>
                </a>
            </nav> 
        </div>
        <div v-else class="nav-bar_desktop__wrapper">
            <nav>
                <a class="button iconed" href="./feed.html">
                    <svg class="icon">
                        <use xlink:href="../assets/icons/svg-resources.xml#icon-feed"></use>
                    </svg>
                </a>
                <a class="button iconed" href="./profile.html">
                    <svg class="icon">
                        <use xlink:href="../assets/icons/svg-resources.xml#icon-profile"></use>
                    </svg>
                </a>
                <a class="button iconed current" href="./chat.html">
                    <svg class="icon">
                        <use xlink:href="../assets/icons/svg-resources.xml#icon-chat-heart-filled"></use>
                    </svg>
                </a>
                <a class="button iconed" href="./notifications.html">
                    <svg class="icon">
                        <use xlink:href="../assets/icons/svg-resources.xml#icon-bell"></use>
                    </svg>
                </a>
                <a class="button iconed" href="./config.html">
                    <svg class="icon">
                        <use xlink:href="../assets/icons/svg-resources.xml#icon-gear"></use>
                    </svg>
                </a>
                <button class="button iconed" id="enviarBtn" @click="logout">
                    <svg class="icon">
                        <use xlink:href="../assets/icons/svg-resources.xml#icon-logout"></use>
                    </svg>
                </button>
            </nav>    
        </div>
        <main class="app__wrapper">
            <div class="chat-list__wrapper" onclick="currentChat_toggle()">
                <div class="chat-list__header">
                    <div class="entry simple">
                        <label for="search-chats">
                            <svg class="icon">
                                <use xlink:href="../assets/icons/svg-resources.xml#icon-search"></use>
                            </svg>
                        </label>
                        <input type="text" id="search-chats" placeholder="Buscar...">
                    </div>
                </div>
                <div class="chat-preview-card__wrapper current">
                    <div class="user__avatar">
                        <img src="../assets/imgs/Global-avatar.svg" alt="">
                    </div>
                    <div class="chat-card__content" ref="chatCard_main">
                        <div class="chat-card__header">
                            <p>Chat Global</p>
                            <span >12:00</span>
                        </div>
                        <div class="chat-card__last-msg">
                            <p>Hello world</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="current-msg__wrapper">
                <div class="main-panel__wrapper">
                    <div class="main-panel__content">
                        <div class="chat-mobile__header">
                            <button class="button iconed contrast tool back" onclick="currentChat_toggle()">
                                <svg class="icon">
                                    <use xlink:href="../assets/icons/svg-resources.xml#icon-arrow"></use>
                                </svg>
                            </button>
                            <img src="../assets/imgs/Global-avatar.svg" alt="">
                            <button name="sidePanel_btn" class="button iconed contrast tool" onclick="sidePanel_toggle(this)">
                                <svg class="icon">
                                    <use xlink:href="../assets/icons/svg-resources.xml#icon-dot-menu"></use>
                                </svg>
                            </button>
                        </div>
                        <div class="chat-desktop__header">
                            <div class="header__wrapper">
                                <img src="../assets/imgs/Global-avatar.svg" alt="">
                                <p>Chat Global</p>
                            </div>
                            <div class="tools__wrapper">
                                <button class="button iconed contrast tool" onclick="sidePanel_toggle(this)">
                                    <svg class="icon">
                                        <use xlink:href="../assets/icons/svg-resources.xml#icon-dot-menu"></use>
                                    </svg>
                                </button>
                                <button class="button iconed contrast tool" onclick="">
                                    <svg class="icon">
                                        <use xlink:href="../assets/icons/svg-resources.xml#icon-search"></use>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        <div class="chat__body">
                            <div class="message__wrapper" ref="messageWrapper">
                                <message-card v-for="msgData in messages" :key="msgData.id" :data="msgData"></message-card>
                            </div>
                            <div class="chatter__wrapper">
                                <div class="chatter__entry">
                                    <button class="button emogy" id="emogy-btn">
                                        <svg class="icon">
                                            <use xlink:href="../assets/icons/svg-resources.xml#icon-kiss"></use>
                                        </svg>
                                    </button>
                                    <input type="text" placeholder="Escribe un mensaje aquÃ­..." autofocus id="mensajeInput" ref="mensajeInput" @keypress.enter="enviarMensaje">
                                </div>
                                <button class="button send" @click="enviarMensaje">
                                    <svg class="icon">
                                        <use xlink:href="../assets/icons/svg-resources.xml#icon-send"></use>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="info-panel__wrapper">
                    <div class="info-panel__content">
                        <div class="chat-info__wrapper">
                            <p>Chat Global</p>
                        </div>
                        <div class="chat-tools__wrapper">
                            <button id="limpiarChat">Limpiar Chat</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script src="../assets/scripts/design_module.js"></script>
    <script type="module" src="../assets/scripts/chat_systems.js"></script>
</body>
</html>